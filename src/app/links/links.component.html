<div class="row justify-content-center">
  <div class="col-10">
    <div class="row justify-content-center mt-4 mb-0">
      <div class="col text-center">
        <h1 class="text-primary">{{ 'links.done' | translate }}</h1>
        <p class="text-center font-medium text-bold mb-2" data-id="linksHeading">
          {{ 'links.share' | translate }}
        </p>
        <p class="mb-2" data-id="appointmentTitle">{{ model.title }}</p>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col section-container pt-3 pb-4">
        <h2 class="link-description" data-id="inviteLinkDescription">
          {{ 'links.invite.description' | translate }}
        </h2>
        <div class="row g-0 pb-1">
          <div
            class="col text-danger text-bold my-1"
            data-id="inviteLinkWarning"
          >
            {{ 'links.loosingLink' | translate }}
          </div>
        </div>
        <div class="row g-0 link-container justify-content-end align-items-center px-2 py-2">
          <div class="col-12 text-primary">
            <div
              class="link"
              data-id="inviteLink"
              id="link-appointment"
            >
              {{ absoluteAppointmentLink }}
            </div>
          </div>
          <div class="col-12 col-lg-9">
            <div class="row g-1 flex-md-nowrap justify-content-end">
              <button
                (click)="createPollMail()"
                class="col-12 col-md-auto btn btn-transparent text-primary"
                data-id="inviteLinkEmail"
                type="button"
              >
                {{ 'links.email.send' | translate }}
              </button>
              <button
                #btnCopyAppointmentLink
                [cbContent]="absoluteAppointmentLink"
                (cbOnSuccess)="btnCopyAppointmentLink.focus(); showToastPollLinkCopied()"
                (cbOnError)="btnCopyAppointmentLink.focus(); showToastPollLinkCopyFailed()"
                class="col-12 col-md-auto btn btn-transparent text-primary"
                data-id="inviteLinkCopy"
                ngxClipboard
                type="button"
              >
                {{ 'links.invite.copy' | translate }}
              </button>
              <a
                [routerLink]="appointmentLink"
                rel="noopener noreferrer"
                target="_blank"
                class="col-12 col-md-auto btn btn-transparent text-primary link-with-image text-center align-items-center justify-content-center"
                data-id="inviteLinkNavigate"
              >
                {{ 'links.invite.open' | translate }}
                <img aria-hidden="true" alt="" width="30" height="30" ngSrc="assets/icn_umfrage_erstellen_primary.svg">
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col section-container pt-3 pb-4">
        <h2 class="link-description" data-id="adminLinkDescription">
          {{ 'links.admin.description' | translate }}
        </h2>
        <div class="row g-0 pb-1">
          <div
            class="col text-danger text-bold my-1"
            data-id="adminLinkWarning"
          >
            {{ 'links.loosingLink' | translate }}
          </div>
        </div>
        <div class="row g-0 link-container justify-content-end align-items-center px-2 py-2">
          <div class="col-12 text-primary">
            <div
              class="link"
              data-id="adminLink"
              id="link-admin"
            >
              {{ absoluteAdminLink }}
            </div>
          </div>
          <div class="col-12 col-lg-9">
            <div class="row g-1 flex-md-nowrap justify-content-end">
              <button
                (click)="createAdminMail()"
                class="col-12 col-md-auto btn btn-transparent text-primary"
                data-id="linkAdmin"
                type="button"
              >
                {{ 'links.email.send' | translate }}
              </button>
              <button
                #btnCopyAdminLink
                [cbContent]="absoluteAdminLink"
                (cbOnSuccess)="btnCopyAdminLink.focus(); showToastAdminLinkCopied()"
                (cbOnError)="btnCopyAdminLink.focus(); showToastAdminLinkCopyFailed()"
                class="col-12 col-md-auto btn btn-transparent text-primary"
                data-id="adminLinkCopy"
                ngxClipboard
                type="button"
              >
                {{ 'links.admin.copy' | translate }}
              </button>
              <a
                [routerLink]="adminLink"
                rel="noopener noreferrer"
                target="_blank"
                class="col-12 col-md-auto btn btn-transparent text-primary link-with-image text-center align-items-center justify-content-center"
                data-id="adminLinkNavigate"
              >
                {{ 'links.admin.open' | translate }}
                <img aria-hidden="true" alt="" width="30" height="30" ngSrc="assets/icn_umfrage_erstellen_primary.svg">
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    @if (surveyLinkAdmin) {
      <div class="row mt-3">
        <div class="col section-container pt-3 pb-4">
          {{ 'links.satisfactionSurvey' | translate }}
          <div class="d-flex justify-content-end button-row">
            <a
              [href]="surveyLinkAdmin"
              rel="noopener noreferrer"
              target="_blank"
              class="btn btn-transparent text-primary link-with-image"
              data-id="surveyLinkNavigate"
            >
              {{ 'links.satisfactionSurveyButton' | translate }}
              <img aria-hidden="true" alt="" src="assets/icn_umfrage_erstellen_primary.svg">
            </a>
          </div>
        </div>
      </div>
    }

    <div class="row mt-5">
      <button
        (click)="createNewAppointment()"
        class="btn btn-secondary btn-block w-100"
        data-id="newAppointmentButton"
        id="create-poll"
        type="button"
      >
        {{ 'poll.createNew' | translate }}
      </button>
    </div>
  </div>
</div>
